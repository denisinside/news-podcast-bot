# News podcast bot

Цей проєкт організований за принципами **чистої архітектури** (clean architecture) з розділенням на рівні:
- `application` (бізнес-логіка),
- `infrastructure` (доступ до зовнішніх систем),
- `presentation` (контролери та UI),
- `models` (базові сутності домену).

---

## Структура проєкту

Головні точки входу в застосунок і воркери для бекграунд-задач.

---

### **application/**
Бізнес-логіка та сервіси:
- `services/` – сервіси, що інкапсулюють роботу з різними доменами  
  (наприклад, `AdminService`, `NewsFinderService`, `PodcastService`, `UserService` тощо).

---

### **infrastructure/**
Реалізації інтерфейсів для взаємодії із зовнішнім світом:
- `clients/` – клієнти для зовнішніх API чи сервісів (наприклад, файлове сховище, черги повідомлень, text-to-speech).
- `repositories/` – реалізації доступу до бази даних (репозиторії для користувачів, статей, підписок, подкастів).
- `strategies/` – стратегії отримання новин або інтеграції з іншими джерелами (`RssSource`, `INewsSourceStrategy`).

---

### **migrations/**
Міграції для бази даних.
- `.gitkeep` – заглушка, щоб папка відслідковувалась у Git, навіть коли ще немає файлів.

---

### **models/**
Доменно-орієнтовані моделі (сущності):
- `User.ts`, `Article.ts`, `Podcast.ts`, `Subscription.ts`, `Topic.ts` тощо.

---

### **presentation/**
Відповідає за представлення та взаємодію з користувачем:
- `admin/` – REST-контролери та роутинг для адміністративної панелі.
- `telegram/` – інтеграція з Telegram Bot API (контролер, UI, логіка бота).

---

### **types/**
Окремі типи та інтерфейси TypeScript для спільного використання:
- `queue.ts` – типи для черг.
- `telegram.ts` – типи для Telegram-інтеграції.

---

### **utils/**
Хелпери та утиліти:
- `logger.ts` – логування.
- `validation.ts` – валідація.
- `helpers.ts` – допоміжні функції.

---

### **workers/**
Фонові задачі (background jobs):
- `NewsFetcherProcessor.ts` – обробник новин.
- `PodcastGeneratorProcessor.ts` – обробник подкастів.
- `index.ts` – точка входу для воркерів.

---

## Як працює логіка
- **Presentation** приймає запити (REST, Telegram).
- Викликає **Application services**, які містять бізнес-правила.
- Вони взаємодіють через **Infrastructure** (репозиторії, клієнти API).
- **Models** описують сутності, з якими працюють сервіси.
- **Workers** виконують довгі або періодичні задачі у бекграунді.
- **Migrations** допомагають синхронізувати базу з кодом.

---
